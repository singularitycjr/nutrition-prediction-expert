# 2024.4.22

数据库添加role，允许相同手机号注册不同角色账户，即用户的account和role都相同才判定重复

患者1 医生1<<2

注册需要添加需要注册的角色，如果手机号已注册，但还未注册当前角色也允许发送验证码

分角色参考：https://blog.csdn.net/2301_78646673/article/details/136008153

枚举类使用map查找优化



前端同学注意：

以下接口的body中需添加“role”字段

```json
{
    "role":"PATIENT"
}
或
{
    "role":"DOCTOR"
}
```



```
POST user/user/login
POST user/user/register
PUT user/user/updateName
PUT user/user/updatePassword
PUT user/user/forgetPassword
```

# 2024.4.24

改回一个手机号只能有一个角色，前端这块暂时不用修改
